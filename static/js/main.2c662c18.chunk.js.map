{"version":3,"sources":["pages/ProductView.module.css","store/actions/products.js","store/actions/productsOperations.js","components/Container/Container.module.css","components/Navigation/Navigation.module.css","components/Modal/Modal.module.css","components/Modal/Modal.jsx","components/AppBar/Appbar.module.css","store/reducers/products.js","store/reducers/index.js","store/index.js","components/Container/Container.jsx","components/Navigation/Navigation.jsx","components/AppBar/AppBar.jsx","pages/error.jpg","pages/ProductView.jsx","App.js","index.js"],"names":["module","exports","addProduct","createAction","deleteProduct","editProduct","sortByPrice","sortByName","fetchProducts","createAsyncThunk","a","fetch","then","res","json","products","console","log","modalRoot","document","querySelector","Modal","children","createPortal","className","s","Overlay","DEFAULT_STATE","productsReducer","createReducer","fulfilled","state","action","payload","filter","i","id","map","item","sort","firstItem","secondItem","name","localeCompare","price","isLoading","pending","rejected","error","_","combineReducers","reducer","store","createStore","composeWithDevTools","applyMiddleware","thunk","Container","title","container","Navigation","to","isActive","active","link","Appbar","header","ProductView","dispatch","useDispatch","productId","useParams","selectedProduct","useSelector","find","product","toString","image_link","description","useState","label","setLabel","image","setImage","priceValue","setPriceValue","descriptionValue","setDescriptionValue","showModal","setShowModal","toggleModal","src","alt","type","onClick","modal","onSubmit","e","preventDefault","Number","modalLabel","modalInput","autoFocus","placeholder","value","required","onChange","target","autoomplete","descriptionInput","modalButton","HomeView","lazy","NotFoundView","App","fallback","color","height","width","timeout","path","element","errorImage","messadge","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2c662c18.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"ProductView_modal__3z_9t\",\"modalLabel\":\"ProductView_modalLabel__34C70\",\"modalInput\":\"ProductView_modalInput__2T7L8\",\"descriptionInput\":\"ProductView_descriptionInput__1YHcZ\",\"modalButtonContainer\":\"ProductView_modalButtonContainer__1yNv9\",\"modalButton\":\"ProductView_modalButton__uz9fg\"};","import { createAction } from '@reduxjs/toolkit';\n\nexport const addProduct = createAction('ADD_PRODUCT');\nexport const deleteProduct = createAction('DELETE_PRODUCT');\nexport const editProduct = createAction('EDIT_PRODUCT');\nexport const sortByPrice = createAction('SORT_BY_PRICE');\nexport const sortByName = createAction('SORT_BY_NAME');\n","import { createAsyncThunk } from '@reduxjs/toolkit';\n\nexport const fetchProducts = createAsyncThunk(\n  'FETCH_REQUEST_PRODUCT',\n  async () => {\n    const products = await fetch(\n      'https://makeup-api.herokuapp.com/api/v1/products.json?brand=maybelline',\n    ).then(res => res.json());\n    console.log(products);\n    return products;\n  },\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__1EAF_\",\"title\":\"Container_title__36W1v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Navigation_link__30PKG\",\"active\":\"Navigation_active__TBLAf Navigation_link__30PKG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__ubnOk\",\"Modal\":\"Modal_Modal__1LhU3\"};","import { createPortal } from 'react-dom';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default function Modal({ children }) {\n  return createPortal(\n    <div className={s.Overlay}>\n      <div className={s.Modal}>{children}</div>\n    </div>,\n    modalRoot,\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Appbar_header__Id_q9\"};","// import products from '../products';\nimport {\n  addProduct,\n  deleteProduct,\n  editProduct,\n  sortByName,\n  sortByPrice,\n} from 'store/actions/products';\nimport { createReducer, combineReducers } from '@reduxjs/toolkit';\nimport { fetchProducts } from '../actions/productsOperations';\n\nconst products = [];\nconst DEFAULT_STATE = products;\n\nconst productsReducer = createReducer(DEFAULT_STATE, {\n  [fetchProducts.fulfilled]: (state, action) => action.payload,\n  [addProduct]: (state, action) => [...state, action.payload],\n  [deleteProduct]: (state, action) =>\n    state.filter(i => i.id !== action.payload),\n  [editProduct]: (state, action) =>\n    state.map(item => (item.id === action.payload.id ? action.payload : item)),\n  [sortByName]: (state, action) =>\n    state.sort((firstItem, secondItem) =>\n      firstItem.name.localeCompare(secondItem.name),\n    ),\n  [sortByPrice]: (state, action) =>\n    state.sort((firstItem, secondItem) => firstItem.price - secondItem.price),\n});\n\nconst isLoading = createReducer(false, {\n  [fetchProducts.pending]: () => true,\n  [fetchProducts.fulfilled]: () => false,\n  [fetchProducts.rejected]: () => false,\n});\n\nconst error = createReducer(false, {\n  [fetchProducts.rejected]: (_, action) => action.payload,\n  [fetchProducts.pending]: () => null,\n});\n\nexport default combineReducers({ productsReducer, isLoading, error });\n// state.find(item => item.id === action.payload.id);\n\n//  Object.assign(\n//       state.find(item => item.id === action.payload.id),\n//       action.payload,\n//     ),\n","import { combineReducers } from 'redux';\nimport productsReducer from './products';\n\nexport const reducer = combineReducers({\n  products: productsReducer,\n});\n","import { createStore, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport { reducer } from './reducers/index';\nimport thunk from 'redux-thunk';\n\nexport const store = createStore(\n  reducer,\n  composeWithDevTools(applyMiddleware(thunk)),\n);\n","import PropTypes from 'prop-types';\nimport s from './Container.module.css';\n\nexport default function Container({ title, children }) {\n  return (\n    <div className={s.container}>\n      {title && <h1 className={s.title}>{title}</h1>}\n      {children}\n    </div>\n  );\n}\n\nContainer.propTypes = {\n  title: PropTypes.string,\n  children: PropTypes.node,\n};\n","import { NavLink } from 'react-router-dom';\nimport s from './Navigation.module.css';\n\nexport default function Navigation() {\n  return (\n    <nav>\n      <NavLink\n        to=\"\"\n        className={({ isActive }) => (isActive ? s.active : s.link)}\n      >\n        Home\n      </NavLink>\n    </nav>\n  );\n}\n","import Navigation from '../Navigation/Navigation';\nimport s from './Appbar.module.css';\n\nexport default function Appbar() {\n  return (\n    <header className={s.header}>\n      <Navigation />\n    </header>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/error.8b3e8601.jpg\";","import { useParams } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useState } from 'react';\n\nimport Modal from 'components/Modal/Modal';\nimport { editProduct } from 'store/actions/products';\nimport s from './ProductView.module.css';\n\nexport default function ProductView() {\n  const dispatch = useDispatch();\n  const { productId } = useParams();\n  const products = useSelector(state => state.products);\n  const selectedProduct = products.productsReducer.find(\n    product => product.id.toString() === productId,\n  );\n  const { name, image_link, price, description } = selectedProduct;\n  const [label, setLabel] = useState(name);\n  const [image, setImage] = useState(image_link);\n  const [priceValue, setPriceValue] = useState(price);\n  const [descriptionValue, setDescriptionValue] = useState(description);\n  const [showModal, setShowModal] = useState(false);\n\n  const toggleModal = () => {\n    setShowModal(!showModal);\n  };\n\n  const confirmEditProduct = e => {\n    e.preventDefault();\n    const item = {\n      id: Number(productId),\n      name: label,\n      image_link: image,\n      price: priceValue,\n      description: descriptionValue,\n    };\n    toggleModal();\n    dispatch(editProduct(item));\n  };\n\n  return (\n    <>\n      {selectedProduct && (\n        <div>\n          <h2>{name}</h2>\n          <img src={image_link} alt={name} />\n          <p>Price: {price}</p>\n          <p>Description:{description}</p>\n          <button type=\"button\" onClick={toggleModal}>\n            Edit\n          </button>\n        </div>\n      )}\n      {showModal && (\n        <Modal>\n          <form className={s.modal} onSubmit={confirmEditProduct}>\n            <label className={s.modalLabel}>\n              Name\n              <input\n                className={s.modalInput}\n                type=\"text\"\n                autoFocus\n                placeholder=\"Name\"\n                value={label}\n                required\n                onChange={e => setLabel(e.target.value)}\n              />\n            </label>\n            <label className={s.modalLabel}>\n              Image URL\n              <input\n                className={s.modalInput}\n                type=\"url\"\n                autoFocus\n                placeholder=\"Enter image url\"\n                value={image}\n                required\n                onChange={e => setImage(e.target.value)}\n              />\n            </label>\n            <label className={s.modalLabel}>\n              Price\n              <input\n                className={s.modalInput}\n                type=\"number\"\n                autoomplete=\"off\"\n                autoFocus\n                placeholder=\"Price\"\n                value={priceValue}\n                required\n                onChange={e => setPriceValue(e.target.value)}\n              />\n            </label>\n            <label className={s.modalLabel}>\n              {' '}\n              Description\n              <input\n                className={s.descriptionInput}\n                type=\"text\"\n                autoomplete=\"off\"\n                autoFocus\n                placeholder=\"Description\"\n                value={descriptionValue}\n                required\n                onChange={e => setDescriptionValue(e.target.value)}\n              />\n            </label>\n\n            <button type=\"submit\" className={s.modalButton}>\n              Confirm\n            </button>\n            <button type=\"button\" onClick={toggleModal}>\n              Cancel\n            </button>\n          </form>\n        </Modal>\n      )}\n    </>\n  );\n}\n","import { lazy, Suspense } from 'react';\nimport { Routes, Route } from 'react-router-dom';\nimport { ToastContainer } from 'react-toastify';\nimport { Provider } from 'react-redux';\n\nimport { store } from './store/index';\nimport Loader from 'react-loader-spinner';\nimport Container from './components/Container';\nimport AppBar from './components/AppBar/AppBar';\nimport errorImage from './pages/error.jpg';\nimport './App.css';\nimport ProductView from 'pages/ProductView';\n\nconst HomeView = lazy(() =>\n  import('./pages/HomeView.jsx' /* webpackChunkName: \"HomeView\" */),\n);\nconst NotFoundView = lazy(() =>\n  import('./pages/NotFoundView.jsx' /* webpackChunkName: \"NotFoundView\" */),\n);\n\nexport default function App() {\n  return (\n    <Provider store={store}>\n      <Container title=\"Welcome\">\n        <AppBar />\n\n        <Suspense\n          fallback={\n            <Loader\n              type=\"Puff\"\n              color=\"#00BFFF\"\n              height={100}\n              width={100}\n              timeout={3000}\n            />\n          }\n        >\n          <Routes>\n            <Route path=\"\" element={<HomeView />} />\n            <Route path=\"/product/:productId/*\" element={<ProductView />} />\n            <Route\n              path=\"*\"\n              element={\n                <NotFoundView\n                  errorImage={errorImage}\n                  messadge=\"Ошибка 404: страница не найдена :(\"\n                />\n              }\n            />\n          </Routes>\n        </Suspense>\n\n        <ToastContainer />\n      </Container>\n    </Provider>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport 'react-toastify/dist/ReactToastify.css';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}